<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<title>apinet-client v0.1</title>

	<script type="text/javascript" src="/components/requirejs/require.js"></script>

	<style type="text/css">
		@@media (max-width: 980px) {
			/* Enable use of floated navbar text */
			.navbar-text.pull-right {
				float: none;
				padding-left: 5px;
				padding-right: 5px;
			}
		}
		.centered {
			position: fixed;
			top: 50%;
			left: 25%;
			width:50%;
		}
		.bar {
			margin: 5px 0 3px;
			border: 6px solid #333;
			background: #333;
			overflow: hidden;
			border-radius: 50px;
			-moz-border-radius: 50px;
			-webkit-border-radius: 50px;
			box-shadow: 1px 1px 1px #777;
			-moz-box-shadow: 1px 1px 1px #777;
			-webkit-box-shadow: 1px 1px 1px #777;
		}
		.bar > span {
			display: block;
			height: 20px;
			border-radius: 5px;
			-moz-border-radius: 5px;
			-webkit-border-radius: 5px;
		}
		.stripe > span {
			background-size:30px 30px;
			-moz-background-size:30px 30px;
			-webkit-background-size:30px 30px;
			-o-background-size:30px 30px;
			background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.15) 25%, rgba(255, 255, 255, 0) 25%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(255, 255, 255, 0) 75%, rgba(255, 255, 255, 0) 100%);
			background-image: -webkit-gradient(linear, left top, right bottom, color-stop(0%, rgba(255, 255, 255, 0.2)), color-stop(25%, rgba(255, 255, 255, 0.2)), color-stop(25%, rgba(255, 255, 255, 0)), color-stop(50%, rgba(255, 255, 255, 0)), color-stop(50%, rgba(255, 255, 255, 0.2)), color-stop(75%, rgba(255, 255, 255, 0.2)), color-stop(75%, rgba(255, 255, 255, 0)), color-stop(100%, rgba(255, 255, 255, 0)));
			background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.3) 25%, rgba(255, 255, 255, 0) 25%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0.3) 75%, rgba(255, 255, 255, 0) 75%, rgba(255, 255, 255, 0) 100%);
			background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.15) 25%, rgba(255, 255, 255, 0) 25%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(255, 255, 255, 0) 75%, rgba(255, 255, 255, 0) 100%);
			background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.15) 25%, rgba(255, 255, 255, 0) 25%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(255, 255, 255, 0) 75%, rgba(255, 255, 255, 0) 100%);
			background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.15) 25%, rgba(255, 255, 255, 0) 25%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(255, 255, 255, 0) 75%, rgba(255, 255, 255, 0) 100%);
		}
		.color3 > span {
			background-color: #4169E1;
		}

		#percent {
			-webkit-transition: width 3000ms ease;
			-moz-transition: width 3000ms ease;
			-o-transition: width 3000ms ease;
			transition: width 3000ms ease;
		}
	</style>
</head>

<body class="contrast-red fixed-header fixed-navigation">
	<div ui-view></div>
	<div class="bar gradient stripe color3 centered">
		<span id="percent" style="width: 0;"></span>
	</div>
	
	@RenderBody()

	<script type="text/javascript">
		(function (require) {
			var getCookie = function (cookie) {
				var matches = cookie && cookie.length && document.cookie.match(new RegExp(
						"(?:^|; )" + cookie.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
				));

				return matches ? decodeURIComponent(matches[1]) : undefined;
			};

			require.config({
				baseUrl: '../',
				config: {
					i18n: {
						locale: getCookie('currentLocale') || window.navigator.userLanguage ||
								window.navigator.language || 'en'
					}
				}
			});



			percent.setAttribute('style', 'width: 100%');
			require(['angular', 'ago/home/module'], function (angular, $module) {
				var percent = document.getElementById('percent');

				require(['domReady!'], function (document) {
					percent.parentNode.parentNode.removeChild(percent.parentNode);
					angular.bootstrap(document, ['ago.core', $module.name]);
				});
			});
		})(requirejs);
	</script>
</body>

</html>